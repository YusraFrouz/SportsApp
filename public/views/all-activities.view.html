<div class="page-container">
    <div ng-include="'/views/include/sidebar.html'" class="sidebar-view"></div>

    <div class="page-content">
        <div ng-include="'/views/include/navbar.html'" class="navbar-view"></div>
        <!-- START BREADCRUMB -->
        <ul class="breadcrumb">
            <li><a href="#">Home</a></li>
            <li class="active">All Activities</li>
        </ul>
        <!-- END BREADCRUMB -->

        <!-- PAGE TITLE -->
        <div class="page-title">
            <h2> All Activities</h2>
        </div>
        <!-- END PAGE TITLE -->

        <!-- PAGE CONTENT WRAPPER -->
        <div class="page-content-wrap">

            <div class="row">
                <div class="col-md-12">

                    <!-- START DATATABLE -->
                    <div class="panel panel-default">

                        <div class="panel-body">
                            Search : <input type="text" ng-model="search_activity"> <br/><br/>
                            <table class="table datatable">
                                <thead>
                                    <tr>
                                        <th ng-click="doSort('id')">Activity ID <i class="fa fa-sort"></i></th>
                                        <th ng-click="doSort('date')">Date <i class="fa fa-sort"></i></th>
                                        <th ng-click="doSort('type')">Type <i class="fa fa-sort"></i></th>
                                        <th ng-click="doSort('description')">Description <i class="fa fa-sort"></i></th>
                                        <th>View Map</th>
                                        <th>Edit / Delete</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="activity in activities | filter:search_activity | orderBy:sortBy:reverse">
                                        <td>{{activity.activitySchemaId}}</td>
                                        <td>{{date | date}}</td>
                                        <td>{{activity.activity_type}}</td>
                                        <td>{{activity.description}}</td>
                                        <td><a href="">View</a></td>
                                        <td><button type="button" class="btn btn-primary edit-activity" id="{{activity.activitySchemaId}}"
                                                data-toggle="modal" data-target="#updateModal">Edit</button>

                                            <button class="btn btn-danger" ng-click="delete(activity.activitySchemaId)">Delete</button></td>
                                    </tr>
                                </tbody>
                            </table>
                            <br><br>
                            <span> Total Activities : {{activities.length}} </span>
                        </div>
                    </div>
                    <!-- END DATATABLE -->

                </div>
            </div>

        </div>
        <!-- PAGE CONTENT WRAPPER -->
    </div>
</div>

<!-- Modal -->
<div id="updateModal" class="modal fade" role="dialog" ng-init="getAllItems()">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title"> Update Activity {{activity.activitySchemaId}}</h4>
            </div>
            <div class="modal-body">
                <div class="">
                    <form class="form-horizontal" name="form" role="form">
                        <div class="form-group">
                            <div class="col-sm-4">
                                Type :
                            </div>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" />
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-4">
                                Description : 
                            </div>
                            <div class="col-sm-8">
                                <input type="text" class="form-control"/>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Update</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>

<!-- <script>
    $(function () {
        $(document).on('click', '.edit-activity', function () {
            var activity_id = $(this).attr('id');
            alert(activity_id);
            $ajax
        })
    });
</script> -->